<%= render "header" %>

<div class="container mt-5">
  <div class="container mt-5">
  <% if @projects.empty? %>
    <div class="d-flex flex-column align-items-center mt-5">
      <%= render :partial => 'svg/empty_project' %>
      <h5 class="mt-5">Pas encore de projet ?</h5>
      <p class="mt-1">Créer en un facilement</p>
      <%= link_to new_project_path do %>
        <button type="button" class="btn btn-empty mt-4"><i class="fa-solid fa-plus"></i> Ajouter un projet</button>
      <% end %>
    </div>
  <% else %>
    <div class="d-flex justify-content-between mt-5">
      <h3>Mes projets en cours</h3>
      <%= link_to new_project_path do %>
        <button type="button" class="btn btn-empty"><i class="fa-solid fa-plus"></i> Ajouter un projet</button>
      <% end %>
    </div>
    <div class="row gap-3">
      <% @projects.each do |project| %>
        <div class="col-3 card-project mt-5">
          <%= link_to project_path(project), class: 'link-card' do %>
            <% if project.photo.attached? %>
              <img class="card-img-top img-size" src="<%= cl_image_path project.photo.key %>" alt="Card image cap">
            <% else %>
              <img class="card-img-top img-size" src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80" alt="Villa">
            <% end  %>
            <div class="d-flex flex-column">
              <h5 class="pt-3"><%= project.name %></h5>
              <p class="description"><%= project.description %></p>
              <div class="d-flex justify-content-between">
                <p class="card-text"><em><%= project.urgency %></em></p>
                <div><span class="badge rounded-5 text-bg-dark mb-3">Budget: <%= project.budget %>€</span></div>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
