<div class="container container_form" data-controller="form-scroll">
  <div class="create_project">
    <h1>Créer mon projet</h1>
  </div>

  <div class="wrapper" style="padding: 0 50px;height: 400px;position: relative;">
    <%= simple_form_for(project) do |f| %>

    <div class="div" data-form-scroll-target="form1">
      <p>Bienvenue sur le parcours de création de projet. Vous êtes sur la bonne voie 🎉</p>
      <p>Commençons par donner un nom au projet 🏡</p>
      <p>Puis parlez-nous de ce dernier  </p>

      <%= f.input :name, label: 'Nom du projet', required: false, autofocus: true, :label_html => { :class => 'label' } %>
      <%= f.input :description, label: 'Décrivez votre projet de rénovation', required: false, autofocus: true, :label_html => { :class => 'label' } %>
      <div class="row py-5 row_progress_suivant">
        <div class="col-7 progress" style="padding-left: 0px">
          <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: 5%;" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100">5%</div>
        </div>
        <div class="col-5 d-flex justify-content-end">
          <p class="btn btn-show-room" data-action="click->form-scroll#nextPage2">Suivant <i class="fa-solid fa-arrow-right"></i></p>
        </div>
      </div>

    </div>
    <div class="div d-none" data-form-scroll-target="form2">
      <%= f.input :building_type, as: :radio_buttons, collection: Project::BUILDING_TYPES, label: 'Quel type de batiment rénovons-nous ?', required: false, autofocus: true, :label_html => { :class => 'label' } %>
      <%= f.input :construction_year, label: "Avons-nous l'année de construction ?", required: false, autofocus: true, :label_html => { :class => 'label' } %>
      <div class="row py-5 row_progress_suivant">
        <div class="col-7 progress" style="padding-left: 0px">
          <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
        </div>
        <div class="col-5 d-flex justify-content-end">
          <p class="btn btn-show-room-back" data-action="click->form-scroll#previousPage1"><i class="fa-solid fa-arrow-left"></i> Retour</p>
          <p class="btn btn-show-room" data-action="click->form-scroll#nextPage3">Suivant <i class="fa-solid fa-arrow-right"></i></p>
        </div>
      </div>
    </div>
    <div class="div d-none" data-form-scroll-target="form3">
      <%= f.input :address,
        input_html: {data: {address_autocomplete_target: "address"}, class: "d-none"},
        label: 'Adresse',
        required: false,
        autofocus: true,
        :label_html => { :class => 'label' },
        wrapper_html: {data: {controller: "address-autocomplete",
        address_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"]}}
      %>
      <div class="row py-5 row_progress_suivant">
        <div class="col-7 progress" style="padding-left: 0px">
          <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: 50%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">50%</div>
        </div>
        <div class="col-5 d-flex justify-content-end">
          <p class="btn btn-show-room-back" data-action="click->form-scroll#previousPage2"><i class="fa-solid fa-arrow-left"></i> Retour</p>
          <p class="btn btn-show-room" data-action="click->form-scroll#nextPage4">Suivant <i class="fa-solid fa-arrow-right"></i></p>
        </div>
      </div>
    </div>
    <div class="div d-none" data-form-scroll-target="form4">
      <%= f.input :urgency, as: :radio_buttons, class:"big-button", collection: Project::URGENCIES, label: 'Combien de temps pour finir les travaux ?', required: false, autofocus: true, :label_html => { :class => 'label' } %>
      <%= f.input :budget, label: 'Quel est votre budget ?', required: false, autofocus: true, :label_html => { :class => 'label' } %>
      <div class="row py-5 row_progress_suivant">
        <div class="col-7 progress" style="padding-left: 0px">
          <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">75%</div>
        </div>
        <div class="col-5 d-flex justify-content-end">
          <p class="btn btn-show-room-back" data-action="click->form-scroll#previousPage3"><i class="fa-solid fa-arrow-left"></i> Retour</p>
          <p class="btn btn-show-room" data-action="click->form-scroll#nextPage5">Suivant <i class="fa-solid fa-arrow-right"></i></p>
        </div>
      </div>
    </div>
    <div class="div d-none" data-form-scroll-target="form5">
      <div data-controller="preview">
        <%= f.input :photo, as: :file, label: 'Une photo représentative du projet',
                    required: false, autofocus: true, :label_html => { :class => 'label' },
                    input_html: {data: { action: "change->preview#preview" }} %>

        <div class="row" style="justify-content: center; padding: 10px;">
          <img id="output" class="d-none img_preview" data-preview-target="output" src="#" alt="your image" style="border-radius: 10px; box-shadow: 0px 1px 2px rgba(15, 23, 42, 0.04);" />
        </div>
      </div>
      <div class="row py-5 row_progress_suivant">
        <div class="col-7 progress" style="padding-left: 0px">
          <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: 95%;" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100">95%</div>
        </div>
        <div class="col-5 d-flex justify-content-end">
          <p class="btn btn-show-room-back" data-action="click->form-scroll#previousPage4"><i class="fa-solid fa-arrow-left"></i> Retour</p>
          <%= f.submit "Suivant", class: "btn btn-show-room" %>
        </div>
      </div>
    </div>
    <% end %>
  </div>
</div>
